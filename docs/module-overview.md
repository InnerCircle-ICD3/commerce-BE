# 프로젝트 구조

## 모듈 구조

### 구성도

```markdown
project/
├── app/          # 애플리케이션 실행 모듈
├── common/       # 공통 유틸리티 및 설정 모듈
├── modules/      # 도메인 기능별로 나눈 멀티모듈 집합
│   ├── admin/    # 관리자 기능 모듈
│   ├── auth/     # 인증/인가 담당 모듈
│   ├── cart/     # 장바구니 모듈
│   ├── member/   # 회원(사용자) 관리 모듈
│   ├── order/    # 주문 처리 모듈
│   ├── payment/  # 결제 처리 모듈
│   ├── product/  # 상품 정보 관리 모듈
│   └── review/   # 상품 리뷰 모듈
```
### 설명

#### app

- Spring Boot의 진입점(`@SpringBootApplication`)이 위치하는 모듈이다.
- 각 도메인 모듈을 조립하여 실제 애플리케이션으로 실행하는 역할을 담당한다.
- WebMvcConfigurer, 예외 처리 등 글로벌 설정을 함께 구성한다.

#### common

- 공통으로 사용하는 코드들을 관리하는 모듈이다.
- BaseEntity, 공통 응답 DTO, Enum 및 Enum Converter 등을 제공한다.
- 예외 처리, 로깅 필터 등 전역 설정 관련 구성도 포함할 수 있다.

#### admin

- 관리자 전용 백오피스 기능을 담당하는 모듈이다.
- 사용자 관리, 상품 관리, 주문 상태 변경, 통계 조회 등의 기능을 제공한다.
- 일반 사용자와는 분리된 별도의 권한 정책을 기반으로 작동한다.

#### auth
- 사용자 인증 및 인가 처리를 담당하는 모듈이다.
- 소셜 로그인 연동, JWT/세션 발급 및 검증, 로그아웃, 토큰 재발급 등의 기능을 제공한다.
- 보안 필터, 예외 핸들러, WebSecurity 설정 등 인증 전반에 대한 구성을 포함한다.

#### cart

- 사용자의 장바구니 기능을 담당하는 모듈이다.
- 상품 담기, 장바구니 목록 조회, 수량 변경, 항목 삭제 등의 기능을 제공한다.
- 장바구니는 DB 또는 세션 기반으로 관리되며, 주문 생성 단계와 연결된다.

#### member

- 사용자 계정과 관련된 기능을 담당하는 모듈이다.
- 회원 가입, 로그인, 사용자 정보 수정, 탈퇴, 배송지 CRUD를 처리한다.
- 인증 로직은 auth 모듈에서 분리되어 관리된다.

#### order

- 사용자의 주문과 관련된 기능을 담당하는 모듈이다.
- 주문을 생성하고, 주문 내역 조회, 주문 상세 확인, 상태 변경을 처리한다.
- 취소 및 반품 요청, 배송 상태 관리, 배송 메시지 관리 등의 기능을 포함한다.

#### payment

- 결제 및 환불 처리를 담당하는 모듈이다.
- 외부 PG사(Fake API 또는 실제 SDK)와의 연동을 통해 결제 요청과 승인을 처리한다.
- 주문 취소 및 반품 시 환불 처리를 수행하며, 결제 상태 이력과 수단 정보를 관리한다.

#### product

- 상품 정보를 관리하는 기능을 담당하는 모듈이다.
- 상품 목록 조회, 검색, 정렬, 인기/최신 전시 기능을 제공한다.
- 상품 정보는 썸네일, 상세 이미지, 가격, 재고, 카테고리 등의 속성을 포함한다.

#### review

- 사용자 리뷰 기능을 담당하는 모듈이다.
- 상품 리뷰 작성, 조회, 수정, 삭제 기능을 제공하며, 리뷰에는 별점과 텍스트가 포함된다.
- 리뷰 작성은 배송 완료 상태의 주문에 대해서만 가능하며, 사용자 정보와 상품 정보가 필요하다.

## 모듈별 패키지 구조

### 구성도

```markdown
└── module
    ├── application      # 유스케이스 계층
    ├── domain           # 도메인 계층
    ├── infrastructure   # 인프라 계층
    └── interfaces       # 인터페이스 계층 (입출력)
```

### 설명

### application

- 도메인 객체를 조합해서 유스케이스를 구현하는 계층이다.
- 트랜잭션 처리 및 도메인 로직의 흐름을 제어한다.

### domain

- 비즈니스 규칙을 담고있는 핵심 계층이다.
- 엔티티, 값 객체, 도메인 서비스, 도메인 이벤트 등이 위치한다. 
- 어떤 외부 프레임워크에도 의존하지 않도록 구성되어야 한다.

### infrastructure

- 외부 시스템(DB, 메시지큐, 외부 API 등)과의 연동을 담당하는 계층이다.
- domain/application에서 선언한 인터페이스의 구현체들이 위치한다.
- 예: JPA 리파지토리, 외부 API 클라이언트 등

### interfaces

- 외부와 직접 통신하는 입출력 계층이다.
- REST 컨트롤러, WebSocket 핸들러, 스케줄러, 이벤트 핸들러 등이 위치한다.
- 외부 요청을 받아 application 계층에 전달하는 역할을 한다.
